(()=>{const e=document.getElementById("videoContainer"),t=document.getElementById("commentForm");document.querySelector(".video__comments ul"),document.querySelectorAll(".deleteBtn"),t.addEventListener("submit",(async n=>{n.preventDefault();const o=t.querySelector("textarea"),a=o.value,c=e.dataset.id;if(""===a)return;const d=await fetch(`/api/videos/${c}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a})});if(201===d.status){o.value="";const{newCommentId:e}=await d.json();((e,t)=>{const n=document.querySelector(".video__comments ul"),o=document.createElement("li");o.dataset.id=t;const a=document.createElement("i"),c=document.createElement("span");o.className="video__comment",a.className=".fa-heartbeat",o.appendChild(a),c.innerText=` ${e}`,o.appendChild(c),n.prepend(o)})(a,e)}}))})();